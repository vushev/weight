# Тестове

Този директория съдържа всички тестове за приложението, организирани в три категории:

## Структура

- `unit/`: Unit тестове за отделните функции
- `integration/`: Интеграционни тестове за API endpoints
- `e2e/`: End-to-end тестове за цялостни потребителски сценарии

## Изпълнение на тестовете

За да изпълните всички тестове:
```bash
go test ./tests/... -v
```

За да изпълните конкретна категория тестове:
```bash
go test ./tests/unit/... -v    # само unit тестове
go test ./tests/integration/... -v    # само интеграционни тестове
go test ./tests/e2e/... -v    # само e2e тестове
```

## Pre-commit Hook

Инсталиран е pre-commit hook, който автоматично изпълнява всички тестове преди всеки commit.
Ако някой тест се провали, commit-ът ще бъде отказан.

## Добавяне на нови тестове

1. Създайте нов файл в съответната директория (unit, integration или e2e)
2. Именувайте файла според конвенцията: `<feature>_test.go`
3. Използвайте пакета `github.com/stretchr/testify/assert` за асертации
4. Следвайте структурата на съществуващите тестове

### Пример за unit тест:

```go
func TestMyFunction(t *testing.T) {
    // Подготовка
    input := "test"
    
    // Изпълнение
    result := MyFunction(input)
    
    // Проверка
    assert.Equal(t, "expected", result)
}
```

## Добри практики

1. Всеки тест трябва да тества само една функционалност
2. Използвайте описателни имена за тестовете
3. Следвайте структурата: Подготовка -> Изпълнение -> Проверка
4. Добавяйте коментари, обясняващи какво се тества
5. Тествайте както успешните, така и неуспешните сценарии 